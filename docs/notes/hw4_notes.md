# Дополнительно:

[Відеозапис заняття](https://www.youtube.com/watch?v=N0vdWVmquWU&t=3s&ab_channel=UNIT1)

---

## Ход выполнения:

1. Открыть два стрима :
    если нет папки ее создать
    открыть стрим по пути logs/`[параметр]`.log


2. Добавление в `logger` :
    в зависимости от метода должен писать в свой лог
    Должен писать в лог даже если не включен через `config || env` // если выключен не пишет только в консоль

3. Добавить дату и время в начало лога
    ```markdown
    1. `Дата(31.12.1999)` `Время(00:01:32)`
    2. Logger info....
    3. пустая строка
    4. ....сначала
    ```

4. Закрытие стрима :
    Закрытие стрима повесить на `beforeExit`

---
## Дополнительно:

1. Сделать чтобы в `env` был параметр на который будет реакция перезаписывать или дополнять лог
    * я это вижу реакцией на `true` || `false`

2. Переделать относительные ссылки через process.env
---
## Материалы :
[флаги](https://nodejs.org/api/fs.html#file-system-flags)

[конфиг ноды](https://github.com/node-config/node-config/wiki/Configuration-Files)

[fs.createWriteStream](https://nodejs.org/api/fs.html#fscreatewritestreampath-options)

## Lock в .gitignore

Нет, package-lock.json НЕ СЛЕДУЕТ добавлять в .gitignore. Вместо этого я настоятельно советую:

Добавьте package-lock.jsonвас в свой репозиторий контроля версий.
Используйте npm ciвместоnpm install при создании приложения как локально, так и в конвейере развертывания.
( ciКоманда доступна начиная с npm@5.7 , если есть сомнения, обновите npm через:
npm install -g npm.)
Одним из самых больших недостатков команды npm installявляется ее неожиданное поведение: она может изменить package-lock.json, тогда как npm ciиспользуется только версия из файла блокировки и выдается ошибка, если package-lock.jsonи package.jsonне синхронизированы.

Кроме того, npm ci требуется наличие package-lock.jsonи выведет ошибку, если ее не будет. Существует веский вариант использования уверенности в том, что зависимости проекта разрешаются повторяемым и надежным образом на разных машинах.

Более того, перед добавлением зависимостей npm ciуничтожается вся папка, гарантируя, что вы работаете с реальными зависимостями, а не с локальными изменениями, и при этом работаете быстрее, чем обычный файл .node_modulesnpm install

Из a package-lock.jsonвы получаете именно это: заведомо работоспособное состояние с всегда одним и тем же деревом зависимостей.

В прошлом у меня были проекты без файлов package-lock.json// npm-shrinkwrap.json, yarn.lockсборка которых однажды завершалась неудачно из-за того, что случайная зависимость получила критическое обновление. (Хотя многие библиотеки соблюдают правила управления версиями semvar, вы не можете гарантировать, что они не сломаются при незначительном обновлении.)

Эту проблему трудно решить, поскольку иногда приходится угадывать, какая была последняя работающая версия.

Что касается тестирования последних зависимостей для вашего проекта: это то, npm updateдля чего он нужен, и я утверждаю, что его должен запускать разработчик, который также запускает тест локально, который решает проблемы, если они могут возникнуть, и который затем фиксирует измененные файлы package-lock.json. (Если обновление не удалось, они могут вернуться к последней работающей версии package-lock.json.)

Более того, я редко обновляю все зависимости одновременно (поскольку это тоже может потребовать дальнейшего обслуживания), а скорее выбираю то обновление, которое мне нужно (например npm update {dependency}, или npm install {dependency}@2.1.3). Это еще одна причина, по которой я рассматриваю это как этап ручного обслуживания.

Если вы действительно хотите, чтобы это было автоматизировано, вы можете создать работу для:

репозиторий оформления заказа
запустить обновление npm
запускать тесты
если тесты пройдены, зафиксируйте и отправьте в репозиторий
в противном случае произойдет сбой и сообщите о проблеме, которую нужно решить вручную.
Я бы хотел, чтобы это было размещено на сервере CI, например Jenkins, и этого не следует достигать по вышеупомянутой причине путем добавления файла в файл .gitignore.